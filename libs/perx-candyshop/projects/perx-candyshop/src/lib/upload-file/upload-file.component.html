<div class="cs-upload-file"
     [class.invalid]="errorState"
     [class.disabled]="disabled">

  <div class="cs-upload-file-wrap">

    <input #fileInput type="file"
           *ngIf="!value"
           class="cs-upload-file-input"
           [accept]='accept'
           (change)="drop(fileInput.files)"
           [disabled]="loading"/>

    <button *ngIf="!value"
            class="cs-upload-file-btn"
            (click)="fileInput.click()"
            [disabled]="loading">
      <ng-content *ngIf="!loading"></ng-content>
      <span *ngIf="loading">{{value?.name || fileName}}</span>
    </button>

    <mat-progress-bar *ngIf="loading"
                      class="cs-upload-file-progress-bar"
                      mode="indeterminate">
    </mat-progress-bar>

    <div class="cs-upload-file-file" *ngIf="value">
      <div class="cs-upload-file-file-icon">
        <i class="icon full-with check-icon"></i>
      </div>
      <span class="cs-upload-file-file-name">{{ value?.name || fileName}}</span>
      <button mat-icon-button class="cs-upload-file-delete" (click)="delete()">
        <i class="icon full-with delete-action"></i>
      </button>
    </div>
  </div>
  <div class="cs-upload-file-info" *ngIf="showInfo">
    <span class="cs-upload-file-placeholder" *ngIf="placeholder && !message">
        {{placeholder}}
      </span>
    <div class="error cs-upload-file-error" *ngIf="message">
      <p>{{message}}</p>
    </div>
  </div>
</div>
