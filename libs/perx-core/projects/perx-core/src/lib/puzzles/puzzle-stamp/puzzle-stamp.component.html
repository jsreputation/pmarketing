<mat-card class="example-card">
  <div class="inner">
    <mat-card-content
      [ngStyle]="{ 'background-image': 'url(' + img + ')' }"
    >
      <img [src]="img" class="bg-img" />
      <div class="stamp-container">
        <div
          class="stamps"
          *ngFor="let row of [].constructor(rows); index as r"
          [ngStyle]="{ height: 100 / rows + '%' }"
        >
          <div 
            class="stamp" 
            *ngFor="let col of [].constructor(cols); index as c"
            [ngStyle]="stampStyle()"
          >
            <div 
              [ngClass]="isMoved(r, c) ? 'hidden content' : 'content'"
              [ngStyle]="styleObject(r, c)"
            >
              <perx-core-stamp
                [lockImg]="lockImg"
                [unlockImg]="unlockImg"
                [ngClass]="isLessThanAvailblePieces(r, c) ? 'available' : ''"
                [available]="isLessThanAvailblePieces(r, c)"
                [isUnlockedAll]="isLessThanAvailblePieces(r, c) && isUnlockedAll"
                [isCurrent]="isCurrent"
                (moveCard)="cardClick()"
                >
              </perx-core-stamp>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button 
        mat-button
        perxCoreAppDebounceClick
        [debounceTime]="1000"
        [ngClass]="availablePieces()"
        [disabled]="!isCurrent"
        (debounceClick)="unlockAvailable()"
        (click)="unlockAllAvailable()"
      >
        {{btnTxt}}
      </button>
    </mat-card-actions>
  </div>
</mat-card>