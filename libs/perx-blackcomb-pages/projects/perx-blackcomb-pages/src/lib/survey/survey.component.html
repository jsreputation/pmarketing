<!--<img [src]="survey.backgroundImgUrl" alt="survey-bg" *ngIf="survey.backgroundImgUrl" class="background_img_url">-->
<div *ngIf="survey" class="survey-main-container"
     [ngStyle]="{'background': survey.backgroundImgUrl ? 'url(' + survey.backgroundImgUrl +
       ')' : ''}">
  <div class="survey-page">
    <div class="progress-text">
      <p>Question <strong>{{questionPointer + 1}}</strong> out of {{totalLength}}</p>
    </div>
    <div class="progress-bar">
      <mat-progress-bar mode="determinate" color="primary" [value]="progressBarValue"></mat-progress-bar>
      <div class="progress-bar-label">
        {{ progressBarValue }}% Complete
      </div>
    </div>
    <mat-card class="survey-card mat-elevation-z2">
      <h1>{{survey.title}}</h1>
      <h2 *ngIf="survey.subTitle">{{survey.subTitle}}</h2>
      <perx-core-survey
        [data]="data$"
        [questionPointer]="questionPointer"
        (surveyDone)="updateSurveyStatus($event)"
        (totalLength)="setTotalLength($event)"
        (currentPointer)="setCurrentPointer($event)"
      ></perx-core-survey>
    </mat-card>
  </div>
  <mat-toolbar class="navbar mat-elevation-z2">
    <button color="primary" *ngIf="questionPointer >= 1" (click)="updateQuestionPointer('back')" mat-stroked-button>
      Previous
    </button>
    <button color="primary" *ngIf="!surveyComplete" (click)="updateQuestionPointer('next')" mat-button>
      Next
    </button>
    <button *ngIf="surveyComplete" mat-flat-button color="primary" (click)="onSubmit()">Submit</button>
  </mat-toolbar>
</div>



