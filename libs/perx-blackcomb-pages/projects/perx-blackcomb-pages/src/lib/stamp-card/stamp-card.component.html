<div class="main-puzzle-container" *ngIf="stampCard$ | async as stampCard" [ngStyle]="{'background-image': background? 'url(' + background + ')': '' }">
  <div class="game-wrapper" [ngStyle]="{'background-image': cardBackground? 'url(' + cardBackground + ')': '' }">
    <div>
      <h1>{{this.title}}</h1>
      <h3>{{this.subTitle}}</h3>
    </div>
    <div class="stamp-form">
      <perx-core-puzzle-collect-stamps
        [nbSlots]="stampCard.campaignConfig.totalSlots || stampCard.displayProperties.totalSlots"
        [stamps]="stampCard.stamps"
        [rewards]="stampCard.campaignConfig.collectionRewards || v4Rewards(stampCard)"
        [preStampImg]="stampCard.displayProperties.preStampImg"
        [postStampImg]="stampCard.displayProperties.postStampImg"
        [availableStampImg]="stampCard.displayProperties.preStampImg"
        [availableRewardImg]="stampCard.displayProperties.rewardPreStamp"
        [rewardPreStamp]="stampCard.displayProperties.rewardPreStamp"
        [rewardPostStamp]="stampCard.displayProperties.rewardPostStamp"
        [backgroundImage]="stampCard.displayProperties.cardImage?.value.imageUrl"
        [cardBgImage]="stampCard.displayProperties.cardBackgroundImage?.value.imageUrl"
        (availableStampClicked)="handleStamp($event)">
      </perx-core-puzzle-collect-stamps>
    </div>
  </div>
  <div class="game-footer">
    <button mat-raised-button [routerLink]="['/wallet']">
      {{stampCard.buttonText}}
    </button>
  </div>
</div>
