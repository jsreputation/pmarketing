{"version":3,"sources":["webpack:///./src/app/tap/tap/tap.component.html","webpack:///./src/app/tap/tap-routing.module.ts","webpack:///./src/app/tap/tap.module.ts","webpack:///./src/app/tap/tap/tap.component.scss","webpack:///./src/app/tap/tap/tap.component.ts"],"names":[],"mappings":"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","file":"tap-tap-module-es2015.js","sourcesContent":["module.exports = \"<div class=\\\"main-puzzle-container\\\" *ngIf=\\\"game$ | async as game\\\">\\n  <div>\\n    <h1>{{game.texts.title}}</h1>\\n    <h3>{{game.texts.subTitle}}</h3>\\n  </div>\\n  <div class=\\\"game-wrapper\\\">\\n    <div class=\\\"pinata-wrapper\\\">\\n      <perx-core-pinata\\n        [stillImg]=\\\"game.config.stillImg\\\"\\n        [openedImg]=\\\"game.config.openedImg\\\" \\n        (broken)=\\\"gameCompleted()\\\" \\n        [enabled]=\\\"isEnabled\\\">\\n        [nbTaps]=\\\"game.config.nbTaps\\\"\\n      </perx-core-pinata>\\n    </div>\\n  </div>\\n  <button mat-flat-button color=\\\"primary\\\" (click)=\\\"isEnabled = true\\\"\\n    [ngStyle]=\\\"{ 'visibility': isEnabled ? 'hidden': 'visible'}\\\">\\n    {{ game.texts.button }}\\n  </button>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TapComponent } from './tap/tap.component';\n\nconst routes: Routes = [\n  { path: '', pathMatch: 'full', component: TapComponent },\n  { path: '*', redirectTo: '' }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TapRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TapRoutingModule } from './tap-routing.module';\nimport { TapComponent } from './tap/tap.component';\nimport { GameModule, IGameService } from '@perx/core';\nimport { MatButtonModule } from '@angular/material';\nimport { of } from 'rxjs';\nimport { games } from '../mock/games.mock';\n\nconst gameServiceStub = {\n  get: (id: number) => of(games[id]),\n  getGamesFromCampaign: (id: number) => of(games.filter(game => game.campaignId === id))\n};\n\n@NgModule({\n  declarations: [TapComponent],\n  imports: [\n    CommonModule,\n    GameModule,\n    MatButtonModule,\n    TapRoutingModule\n  ],\n  providers: [\n    { provide: IGameService, useValue: gameServiceStub },\n  ]\n})\nexport class TapModule { }\n","module.exports = \".main-puzzle-container {\\n  -webkit-flex: 2;\\n          flex: 2;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-justify-content: space-around;\\n          justify-content: space-around;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  height: 100%;\\n  background: linear-gradient(180deg, #3a6186 0%, #89243e 100%);\\n}\\n.main-puzzle-container h1 {\\n  color: white;\\n  text-align: center;\\n  font-family: Roboto, sans-serif;\\n  padding: 2rem 0 0 0;\\n}\\n.main-puzzle-container h3 {\\n  color: white;\\n  text-align: center;\\n  margin: 0;\\n}\\n.game-wrapper {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-justify-content: center;\\n          justify-content: center;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  width: 100%;\\n}\\n.game-wrapper .pinata-wrapper {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-justify-content: center;\\n          justify-content: center;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  width: 100%;\\n}\\nbutton {\\n  max-width: 31.5rem;\\n  min-width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wZXJ4L0RvY3VtZW50cy9HaXRIdWIvbWljcm9zaXRlLWFwcHMtbmcvYXBwcy9hYmVuc29uL3NyYy9hcHAvdGFwL3RhcC90YXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3RhcC90YXAvdGFwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsZUFBQTtVQUFBLE9BQUE7RUFDQSxxQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EscUNBQUE7VUFBQSw2QkFBQTtFQUNBLDJCQUFBO1VBQUEsbUJBQUE7RUFFQSxZQUFBO0VBQ0EsNkRBQUE7QUNERjtBREdFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtBQ0RKO0FESUU7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0FDRko7QURNQTtFQUNFLHFCQUFBO0VBQUEsYUFBQTtFQUNBLCtCQUFBO1VBQUEsdUJBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EsV0FBQTtBQ0hGO0FES0U7RUFDRSxxQkFBQTtFQUFBLGFBQUE7RUFDQSwrQkFBQTtVQUFBLHVCQUFBO0VBQ0EsOEJBQUE7VUFBQSxzQkFBQTtFQUNBLDJCQUFBO1VBQUEsbUJBQUE7RUFDQSxXQUFBO0FDSEo7QURPQTtFQUNFLGtCQUFBO0VBQ0EsY0FBQTtBQ0pGIiwiZmlsZSI6InNyYy9hcHAvdGFwL3RhcC90YXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5tYWluLXB1enpsZS1jb250YWluZXIge1xuICBmbGV4OiAyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgLy8gbWFyZ2luOiAycmVtIC0xLjJyZW07XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzNhNjE4NiAwJSwgIzg5MjQzZSAxMDAlKTtcblxuICBoMSB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LWZhbWlseTogUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgIHBhZGRpbmc6IDJyZW0gMCAwIDA7XG4gIH1cblxuICBoMyB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW46IDA7XG4gIH1cbn1cblxuLmdhbWUtd3JhcHBlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcblxuICAucGluYXRhLXdyYXBwZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59XG5cbmJ1dHRvbiB7XG4gIG1heC13aWR0aDogMzEuNXJlbTtcbiAgbWluLXdpZHRoOiA1MCU7XG59XG4iLCIubWFpbi1wdXp6bGUtY29udGFpbmVyIHtcbiAgZmxleDogMjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzNhNjE4NiAwJSwgIzg5MjQzZSAxMDAlKTtcbn1cbi5tYWluLXB1enpsZS1jb250YWluZXIgaDEge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgcGFkZGluZzogMnJlbSAwIDAgMDtcbn1cbi5tYWluLXB1enpsZS1jb250YWluZXIgaDMge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZ2FtZS13cmFwcGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xufVxuLmdhbWUtd3JhcHBlciAucGluYXRhLXdyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmJ1dHRvbiB7XG4gIG1heC13aWR0aDogMzEuNXJlbTtcbiAgbWluLXdpZHRoOiA1MCU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ParamMap, ActivatedRoute } from '@angular/router';\nimport {\n  NotificationService,\n  IGame,\n  GameType,\n  IGameService\n} from '@perx/core';\nimport { filter, switchMap, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-tap',\n  templateUrl: './tap.component.html',\n  styleUrls: ['./tap.component.scss']\n})\nexport class TapComponent implements OnInit {\n\n  public game$: Observable<IGame>;\n  public isEnabled: boolean = false;\n\n  public congratsDetailText: string = 'You just won 2 rewards';\n\n  constructor(\n    private router: Router,\n    private notificationService: NotificationService,\n    private gameService: IGameService,\n    private route: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.game$ = this.route.paramMap\n      .pipe(\n        filter((params: ParamMap) => params.has('id')),\n        switchMap((params: ParamMap) => {\n          const id: string = params.get('id');\n          const idN = Number.parseInt(id, 10);\n          return this.gameService.getGamesFromCampaign(idN);\n        }),\n        map((games: IGame[]) => games.filter(game => game.type === GameType.pinata)[0])\n      );\n    this.actionOnGameStatus();\n  }\n\n  public actionOnGameStatus(): void {\n    this.game$.subscribe(game => {\n      if (game.remainingNumberOfTries <= 0) {\n        this.router.navigate(['/wallet']);\n      }\n    },\n      () => {\n        this.router.navigate(['/wallet']);\n      }\n    );\n  }\n\n  public gameCompleted(): void {\n    setTimeout(() => {\n      this.router.navigate(['/wallet']);\n      this.notificationService.addPopup({\n        title: 'Congratulations!',\n        text: this.congratsDetailText,\n        buttonTxt: 'View Rewards',\n        imageUrl: 'assets/congrats_image.png',\n      });\n    }, 2000);\n  }\n}\n"],"sourceRoot":""}