{"version":3,"sources":["webpack:///./src/app/shake/shake/shake.component.html","webpack:///./src/app/shake/shake-routing.module.ts","webpack:///./src/app/shake/shake.module.ts","webpack:///./src/app/shake/shake/shake.component.scss","webpack:///./src/app/shake/shake/shake.component.ts"],"names":[],"mappings":"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","file":"shake-shake-module-es5.js","sourcesContent":["module.exports = \"<div class=\\\"main-puzzle-container\\\" *ngIf=\\\"game$ | async as game\\\">\\n  <div>\\n    <h1>{{game.texts.title}}</h1>\\n    <h3>{{game.texts.subTitle}}</h3>\\n  </div>\\n  <div class=\\\"game-wrapper\\\">\\n    <perx-core-shake-tree\\n      [treeImg]=\\\"game.config.treeImg\\\"\\n      [giftImg]=\\\"game.config.giftImg\\\"\\n      [nbHangedGifts]=\\\"game.config.nbHangedGift\\\"\\n      [nbFallingGifts]=\\\"game.config.nbGiftsToDrop\\\"\\n      (completed)=\\\"gameCompleted()\\\"\\n      [enabled]=\\\"isEnabled\\\"\\n      [nbShakes]=\\\"game.config.nbTaps\\\">\\n    </perx-core-shake-tree>\\n  </div>  \\n  <button\\n    mat-flat-button\\n    color=\\\"primary\\\"\\n    (click)=\\\"isEnabled = true\\\"\\n    [ngStyle]=\\\"{ 'visibility': isEnabled ? 'hidden': 'visible'}\\\">\\n    {{ game.texts.button }}\\n  </button>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ShakeComponent } from './shake/shake.component';\n\nconst routes: Routes = [\n  { path: '', pathMatch: 'full', component: ShakeComponent },\n  { path: '*', redirectTo: '' }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ShakeRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShakeRoutingModule } from './shake-routing.module';\nimport { ShakeComponent } from './shake/shake.component';\nimport { GameModule, IGameService } from '@perx/core';\nimport { MatButtonModule } from '@angular/material';\nimport { of } from 'rxjs';\nimport { games } from '../mock/games.mock';\n\nconst gameServiceStub = {\n  get: (id: number) => of(games[id]),\n  getGamesFromCampaign: (id: number) => of(games.filter(game => game.campaignId === id))\n};\n\n@NgModule({\n  declarations: [\n    ShakeComponent\n  ],\n  imports: [\n    CommonModule,\n    GameModule,\n    MatButtonModule,\n    ShakeRoutingModule\n  ],\n  providers: [\n    { provide: IGameService, useValue: gameServiceStub },\n  ]\n})\nexport class ShakeModule { }\n","module.exports = \".main-puzzle-container {\\n  -webkit-flex: 2;\\n          flex: 2;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-justify-content: space-around;\\n          justify-content: space-around;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  height: 100%;\\n  background: linear-gradient(180deg, #3a6186 0%, #89243e 100%);\\n}\\n.main-puzzle-container h1 {\\n  color: white;\\n  text-align: center;\\n  font-family: Roboto, sans-serif;\\n  padding: 2rem 0 0 0;\\n}\\n.main-puzzle-container h3 {\\n  color: white;\\n  text-align: center;\\n  margin: 0;\\n}\\n.game-wrapper {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-justify-content: center;\\n          justify-content: center;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  width: 100%;\\n}\\nbutton {\\n  max-width: 31.5rem;\\n  min-width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wZXJ4L0RvY3VtZW50cy9HaXRIdWIvbWljcm9zaXRlLWFwcHMtbmcvYXBwcy9hYmVuc29uL3NyYy9hcHAvc2hha2Uvc2hha2Uvc2hha2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYWtlL3NoYWtlL3NoYWtlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsZUFBQTtVQUFBLE9BQUE7RUFDQSxxQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EscUNBQUE7VUFBQSw2QkFBQTtFQUNBLDJCQUFBO1VBQUEsbUJBQUE7RUFFQSxZQUFBO0VBQ0EsNkRBQUE7QUNERjtBREdFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtBQ0RKO0FESUU7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0FDRko7QURNQTtFQUNFLHFCQUFBO0VBQUEsYUFBQTtFQUNBLCtCQUFBO1VBQUEsdUJBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EsV0FBQTtBQ0hGO0FETUE7RUFDRSxrQkFBQTtFQUNBLGNBQUE7QUNIRiIsImZpbGUiOiJzcmMvYXBwL3NoYWtlL3NoYWtlL3NoYWtlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4ubWFpbi1wdXp6bGUtY29udGFpbmVyIHtcbiAgZmxleDogMjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIC8vIG1hcmdpbjogMnJlbSAtMS4ycmVtO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICMzYTYxODYgMCUsICM4OTI0M2UgMTAwJSk7XG5cbiAgaDEge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICBwYWRkaW5nOiAycmVtIDAgMCAwO1xuICB9XG5cbiAgaDMge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luOiAwO1xuICB9XG59XG5cbi5nYW1lLXdyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmJ1dHRvbiB7XG4gIG1heC13aWR0aDogMzEuNXJlbTtcbiAgbWluLXdpZHRoOiA1MCU7XG59XG4iLCIubWFpbi1wdXp6bGUtY29udGFpbmVyIHtcbiAgZmxleDogMjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzNhNjE4NiAwJSwgIzg5MjQzZSAxMDAlKTtcbn1cbi5tYWluLXB1enpsZS1jb250YWluZXIgaDEge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgcGFkZGluZzogMnJlbSAwIDAgMDtcbn1cbi5tYWluLXB1enpsZS1jb250YWluZXIgaDMge1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiAwO1xufVxuXG4uZ2FtZS13cmFwcGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5idXR0b24ge1xuICBtYXgtd2lkdGg6IDMxLjVyZW07XG4gIG1pbi13aWR0aDogNTAlO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport {\n  NotificationService,\n  IGame,\n  IGameService,\n  GameType\n} from '@perx/core';\nimport { switchMap, filter, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-shake',\n  templateUrl: './shake.component.html',\n  styleUrls: ['./shake.component.scss']\n})\nexport class ShakeComponent implements OnInit {\n  public game$: Observable<IGame>;\n  public isEnabled: boolean = false;\n\n  public congratsDetailText: string = 'You just won 2 rewards';\n\n  constructor(\n    private router: Router,\n    private notificationService: NotificationService,\n    private gameService: IGameService,\n    private route: ActivatedRoute\n  ) { }\n\n  public ngOnInit(): void {\n    this.game$ = this.route.paramMap\n      .pipe(\n        filter((params: ParamMap) => params.has('id')),\n        switchMap((params: ParamMap) => {\n          const id: string = params.get('id');\n          const idN = Number.parseInt(id, 10);\n          return this.gameService.getGamesFromCampaign(idN);\n        }),\n        map((games: IGame[]) => games.filter(game => game.type === GameType.shakeTheTree)[0])\n      );\n    this.actionOnGameStatus();\n  }\n\n  public actionOnGameStatus(): void {\n    this.game$.subscribe(game => {\n      if (game.remainingNumberOfTries <= 0) {\n        this.router.navigate(['/wallet']);\n      }\n    },\n      () => {\n        this.router.navigate(['/wallet']);\n      }\n    );\n  }\n\n  public gameCompleted(): void {\n    setTimeout(() => {\n      this.router.navigate(['/wallet']);\n      this.notificationService.addPopup({\n        title: 'Congratulations!',\n        text: this.congratsDetailText,\n        buttonTxt: 'View Rewards',\n        imageUrl: 'assets/congrats_image.png',\n      });\n    }, 2000);\n  }\n}\n"],"sourceRoot":""}