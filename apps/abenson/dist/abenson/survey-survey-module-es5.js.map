{"version":3,"sources":["webpack:///./src/app/survey/survey/survey.component.html","webpack:///./src/app/mock/survey.mock.ts","webpack:///./src/app/survey/survey-routing.module.ts","webpack:///./src/app/survey/survey.module.ts","webpack:///./src/app/survey/survey/survey.component.scss","webpack:///./src/app/survey/survey/survey.component.ts"],"names":[],"mappings":"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","file":"survey-survey-module-es5.js","sourcesContent":["module.exports = \"<div class=\\\"survey-page\\\">\\n    <div class=\\\"progress-bar\\\">\\n        <mat-progress-bar mode=\\\"determinate\\\" color=\\\"warn\\\" [value]=\\\"progressBarValue\\\"></mat-progress-bar>\\n        <div class=\\\"progress-bar-label\\\">\\n            {{ progressBarValue }}% Complete\\n        </div>\\n    </div>\\n    <mat-card class=\\\"survey-card mat-elevation-z2\\\" *ngIf=\\\"data$ | async as data\\\">\\n        <h1>Headline</h1>\\n        <h2>Sub-headline</h2>\\n        <perx-core-survey \\n            [data]=\\\"data$\\\"\\n            (surveyDone)=\\\"updateSurveyStatus($event)\\\"\\n            (totalLength)=\\\"setTotalLength($event)\\\"\\n            (currentPointer)=\\\"setCurrentPointer($event)\\\"\\n            ></perx-core-survey>\\n        <button *ngIf=\\\"surveyComplete\\\" mat-flat-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\">Submit</button>\\n    </mat-card>\\n</div>\"","import { ISurvey } from '@perx/core';\n\nexport const survey: ISurvey = {\n    title: 'Please help us knowing you better',\n    questions: [\n        {\n            question: 'Which color you like?',\n            description: 'Please select',\n            id: '1',\n            required: false,\n            payload: {\n                type: 'select',\n                multiple: false,\n                choices: [\n                    'blue',\n                    'white',\n                    'red'\n                ]\n            }\n        },\n        {\n            question: 'How can we reach you?',\n            description: 'No offence taken',\n            id: '9',\n            required: false,\n            payload: {\n                type: 'picture-select',\n                multiple: true,\n                choices: [\n                    {\n                        img_url: 'https://picsum.photos/600/900',\n                        text: 'The first'\n                    },\n                    {\n                        img_url: 'https://picsum.photos/600/900',\n                        text: 'The second'\n                    },\n                    {\n                        img_url: 'https://picsum.photos/600/900',\n                        text: 'The second'\n                    },\n                    {\n                        img_url: 'https://picsum.photos/600/900',\n                        text: 'The second'\n                    }\n                ]\n            }\n        },\n        {\n            question: 'When were you born?',\n            description: 'It\\'s between us',\n            id: '2',\n            required: true,\n            payload: {\n                duration: true,\n                type: 'date'\n            }\n        },\n        {\n            question: 'How can we reach you?',\n            description: 'No offence taken',\n            id: '8',\n            required: false,\n            payload: {\n                type: 'phone',\n                default_country_code: 'SG'\n            }\n        },\n        {\n            question: 'How likely are you to recommend our service?',\n            description: 'Please rate us',\n            id: '11',\n            required: false,\n            payload: {\n                type: 'rating',\n                color: 'primary',\n                left_label: 'not much',\n                right_label: 'a lot',\n                scale: 6,\n                shape: 'circle'\n            }\n        },\n        {\n            question: 'Tell us more about us',\n            description: 'No offence taken',\n            id: '7',\n            required: true,\n            payload: {\n                type: 'group',\n                questions: [\n                    {\n                        question: 'What\\'s your favorite color 1',\n                        description: 'We love blue',\n                        id: '7.1',\n                        required: false,\n                        payload: {\n                            type: 'select',\n                            choices: [\n                                'blue',\n                                'white',\n                                'red'\n                            ]\n                        }\n                    },\n                    {\n                        question: 'What\\'s your favorite color 2',\n                        description: 'We love blue',\n                        id: '7.2',\n                        required: true,\n                        payload: {\n                            type: 'select',\n                            choices: [\n                                'blue',\n                                'white',\n                                'red'\n                            ]\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            question: 'From when to when was your first job?',\n            description: 'Compliance',\n            id: '3',\n            required: false,\n            payload: {\n                type: 'date',\n                period: true\n            }\n        },\n        {\n            question: 'From when to when was your first job?',\n            description: 'Compliance',\n            id: '4',\n            required: false,\n            payload: {\n                type: 'date',\n                period: true\n            }\n        },\n        {\n            question: 'Tell us more about you',\n            description: 'Be frank',\n            id: '5',\n            required: false,\n            payload: {\n                type: 'long-text',\n                'max-length': 20\n            }\n        },\n        {\n            question: 'Tell us more about us',\n            description: 'No offence taken',\n            id: '6',\n            required: false,\n            payload: {\n                type: 'long-text'\n            }\n        }\n    ]\n};\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SurveyComponent } from './survey/survey.component';\n\nconst routes: Routes = [\n  { path: '', pathMatch: 'full', component: SurveyComponent },\n  { path: '*', redirectTo: '' }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SurveyRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SurveyModule as PerxSurveyModule, SurveyService } from '@perx/core';\n\nimport { SurveyRoutingModule } from './survey-routing.module';\nimport { SurveyComponent } from './survey/survey.component';\nimport { MatCardModule, MatButtonModule, MatProgressBarModule, MatDatepickerModule, MatRadioModule, MatCheckboxModule } from '@angular/material';\nimport { of } from 'rxjs';\nimport { survey } from '../mock/survey.mock';\n\nconst surveyServiceStub = {\n  // @ts-ignore\n  getSurveyFromCampaign: (id: number) => of(survey)\n};\n\n@NgModule({\n  declarations: [SurveyComponent],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatButtonModule,\n    MatProgressBarModule,\n    MatDatepickerModule,\n    MatRadioModule,\n    MatCheckboxModule,\n    SurveyRoutingModule,\n    PerxSurveyModule\n  ],\n  providers: [\n    { provide: SurveyService, useValue: surveyServiceStub },\n  ]\n})\nexport class SurveyModule { }\n","module.exports = \".survey-page {\\n  height: 100%;\\n  width: 100%;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  background: linear-gradient(180deg, #3a6186 0%, #89243e 100%);\\n  padding: 1rem;\\n  box-sizing: border-box;\\n}\\n.survey-page .progress-bar {\\n  width: 100%;\\n}\\n.survey-page .progress-bar .progress-bar-label {\\n  width: 100%;\\n  font-size: 1.2rem;\\n  line-height: 1.6rem;\\n  color: #fff;\\n  letter-spacing: 0.4px;\\n  text-align: left;\\n}\\n.survey-page .survey-card {\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  min-width: 34rem;\\n  max-width: 80%;\\n  margin-top: 2rem;\\n}\\n.survey-page .survey-card h1 {\\n  font-style: normal;\\n  font-weight: 500;\\n  font-size: 2rem;\\n  text-align: center;\\n}\\n.survey-page .survey-card h2 {\\n  font-style: normal;\\n  font-weight: normal;\\n  font-size: 1.6rem;\\n  text-align: center;\\n  color: #666666;\\n}\\n.survey-page .survey-card button {\\n  width: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wZXJ4L0RvY3VtZW50cy9HaXRIdWIvbWljcm9zaXRlLWFwcHMtbmcvYXBwcy9hYmVuc29uL3NyYy9hcHAvc3VydmV5L3N1cnZleS9zdXJ2ZXkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N1cnZleS9zdXJ2ZXkvc3VydmV5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EsMkJBQUE7VUFBQSxtQkFBQTtFQUNBLDZEQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FDQ0Y7QURDRTtFQUNFLFdBQUE7QUNDSjtBRENJO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtBQ0NOO0FER0U7RUFDRSxxQkFBQTtFQUFBLGFBQUE7RUFDQSw4QkFBQTtVQUFBLHNCQUFBO0VBQ0EsMkJBQUE7VUFBQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDREo7QURHSTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUNETjtBRElJO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FDRk47QURLSTtFQUNFLFVBQUE7QUNITiIsImZpbGUiOiJzcmMvYXBwL3N1cnZleS9zdXJ2ZXkvc3VydmV5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN1cnZleS1wYWdlIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzNhNjE4NiAwJSwgIzg5MjQzZSAxMDAlKTtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxuICAucHJvZ3Jlc3MtYmFyIHtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgIC5wcm9ncmVzcy1iYXItbGFiZWwge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjZyZW07XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjRweDtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgfVxuICB9XG5cbiAgLnN1cnZleS1jYXJkIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBtaW4td2lkdGg6IDM0cmVtO1xuICAgIG1heC13aWR0aDogODAlO1xuICAgIG1hcmdpbi10b3A6IDJyZW07XG5cbiAgICBoMSB7XG4gICAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgZm9udC1zaXplOiAycmVtO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cblxuICAgIGgyIHtcbiAgICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICBmb250LXNpemU6IDEuNnJlbTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjNjY2NjY2O1xuICAgIH1cblxuICAgIGJ1dHRvbiB7XG4gICAgICB3aWR0aDogODAlO1xuICAgIH1cbiAgfVxufVxuIiwiLnN1cnZleS1wYWdlIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgIzNhNjE4NiAwJSwgIzg5MjQzZSAxMDAlKTtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cbi5zdXJ2ZXktcGFnZSAucHJvZ3Jlc3MtYmFyIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uc3VydmV5LXBhZ2UgLnByb2dyZXNzLWJhciAucHJvZ3Jlc3MtYmFyLWxhYmVsIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBsaW5lLWhlaWdodDogMS42cmVtO1xuICBjb2xvcjogI2ZmZjtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLnN1cnZleS1wYWdlIC5zdXJ2ZXktY2FyZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1pbi13aWR0aDogMzRyZW07XG4gIG1heC13aWR0aDogODAlO1xuICBtYXJnaW4tdG9wOiAycmVtO1xufVxuLnN1cnZleS1wYWdlIC5zdXJ2ZXktY2FyZCBoMSB7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgZm9udC1zaXplOiAycmVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uc3VydmV5LXBhZ2UgLnN1cnZleS1jYXJkIGgyIHtcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBmb250LXNpemU6IDEuNnJlbTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzY2NjY2Njtcbn1cbi5zdXJ2ZXktcGFnZSAuc3VydmV5LWNhcmQgYnV0dG9uIHtcbiAgd2lkdGg6IDgwJTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NotificationService, ISurvey, SurveyService } from '@perx/core';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { filter, switchMap } from 'rxjs/operators';\n\ninterface IAnswer {\n  question_id: string;\n  content: any;\n}\n\n@Component({\n  selector: 'app-survey',\n  templateUrl: './survey.component.html',\n  styleUrls: ['./survey.component.scss']\n})\nexport class SurveyComponent implements OnInit {\n  public data$: Observable<ISurvey>;\n  public answers: IAnswer[];\n  public totalLength: number;\n  public currentPointer: number;\n\n  constructor(\n    private notificationService: NotificationService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private surveyService: SurveyService\n  ) { }\n\n  public ngOnInit(): void {\n    this.data$ = this.route.paramMap\n      .pipe(\n        filter((params: ParamMap) => params.has('id')),\n        switchMap((params: ParamMap) => {\n          const id: string = params.get('id');\n          const idN = Number.parseInt(id, 10);\n          return this.surveyService.getSurveyFromCampaign(idN);\n        }),\n      );\n  }\n\n  public get progressBarValue(): number {\n    return Math.round(this.currentPointer / this.totalLength * 100) || 0;\n  }\n\n  public get surveyComplete(): boolean {\n    return this.currentPointer === this.totalLength;\n  }\n  public onSubmit(): void {\n    this.router.navigate(['/wallet']);\n    this.notificationService.addPopup({\n      text: 'Here is a reward for you.',\n      title: 'Thanks for completing the survey.',\n      buttonTxt: 'View Reward',\n      imageUrl: 'assets/congrats_image.png'\n    });\n  }\n\n  public setTotalLength(totalLength: number): void {\n    this.totalLength = totalLength;\n  }\n\n  public setCurrentPointer(currentPointer: number): void {\n    this.currentPointer = currentPointer;\n  }\n\n  public updateSurveyStatus(answers: IAnswer[]): void {\n    this.answers = answers;\n  }\n}\n"],"sourceRoot":""}