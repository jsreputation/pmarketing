<div class="forgot-header">
  <img src="assets/images/logo.png" class="forgot-header-logo" alt="">
</div>
<div class="container" [ngSwitch]="currentStep">
  <h2 class="forgot-title">Reset password</h2>

  <div class="forgot-step" *ngSwitchCase="1">
    <p class="forgot-description">Please enter your phone number.</p>

    <form [formGroup]="phoneStepForm" (submit)="phoneHandler($event)">
      <mat-form-field appearance="fill">
        <mat-label>Telephone number</mat-label>
        <input type="tel" matInput formControlName="phone">
        <mat-error *hkbnErrorHandler="'required'">
          This field is required
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary">
        Confirm
      </button>
    </form>

    <p>
      For assistance, please send an email to
      <a href="" class="forgot-link">support@home-plus.hk</a>
    </p>
  </div>

  <div class="forgot-step" *ngSwitchCase="2">
    <p>
      The one-time password has been sent to your phone number (******{{usersPhone}}) in a short message.
      Please check the SMS to complete the reset process.
    </p>
    <perx-core-pin-input class="forgot-pin" [length]="6" (full)="handlePin($event)"></perx-core-pin-input>

    <p class="forgot-resend" (click)="resend()">Resend authentication SMS</p>
  </div>

  <div class="forgot-step" *ngSwitchCase="3">
    <form [formGroup]="newPasswordForm" (submit)="changePassword()">
      <mat-form-field appearance="fill">
        <mat-label>New Password</mat-label>
        <input type="password" matInput formControlName="newPassword">
        <mat-error *hkbnErrorHandler="'required'">
          This field is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Confirm Password</mat-label>
        <input type="password" matInput formControlName="passwordConfirmation">
        <mat-error *hkbnErrorHandler="'required'">
          This field is required
        </mat-error>
        <mat-error *hkbnErrorHandler="'notEqual'">
          Password not match
        </mat-error>
      </mat-form-field>

      <button mat-raised-button color="primary">
        Confirm
      </button>
    </form>
  </div>
</div>
