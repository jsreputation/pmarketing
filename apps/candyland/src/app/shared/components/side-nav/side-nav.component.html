<mat-sidenav-container class="container-sidenav" [class.example-is-mobile]="mobileQuery.matches">
  <mat-sidenav class="sidenav" #snav
                [@openClose]="isOpen ? 'open' : 'closed'"
                [mode]="mobileQuery.matches ? 'over' : 'side'"
                [opened]="sideNavOpened"
                [fixedInViewport]="mobileQuery.matches" 
                fixedTopGap="64">
    <mat-toolbar class="mat-toolbar-log" [class.center]="!isOpen">
      <cl-logo [sizeClass]="isOpen ? 'medium' : 'small'"></cl-logo>
    </mat-toolbar>
    <div class="sidenav-data-container">
      <cl-user *ngIf="(user$ | async) as user"
              class="cl-user"
              [isOpen]="isOpen"
              [user]="user"
      ></cl-user>
    </div>
    <div class="sidenav-menu-wrap">
      <cl-sidenav-menu [isOpen]="isOpen"></cl-sidenav-menu>
    </div>
    <div class="sidenav-actions">
      <button class="sidenav-logout user-logout btn-transparent appear"
              *ngIf="isOpen"
              [routerLink]="['/login']"
      >
        <i class="icon logout" matListIcon></i>
        <span class="btn-text" (click)="logout()">
          Log out
        </span>
      </button>
      <button class="sidenav-compress"
              [class.center]="!isOpen"
              (click)="toggle()">
        <mat-icon aria-hidden="false" aria-label="Example home icon">{{isOpen ? 'keyboard_arrow_left': 'keyboard_arrow_right'}}</mat-icon>
      </button>
    </div>      
  </mat-sidenav>

  <mat-sidenav-content [@position]="isOpen ? 'open' : 'closed'">
    <button mat-icon-button (click)="snav.toggle()" class="side-nav-toggle"><mat-icon>menu</mat-icon></button>
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
