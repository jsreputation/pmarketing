<div class="page-header full-with">
  <div class="game-title-wrap">
    <div class="control-input name-control name-control-title">
      <mat-form-field class="messages-input">
        <input type="text" matInput [formControl]="form.get('name')">
        <mat-error *ngIf="form.get('name').hasError('required')">Required field</mat-error>
        <mat-error *ngIf="form.get('name').hasError('minlength')">Min length 1</mat-error>
        <mat-error *ngIf="form.get('name').hasError('maxlength')">Max length 60</mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="btn-group">
    <cl-button classList="invert" routerLink="..">Cancel</cl-button>
    <cl-button classList="primary" routerLink="/rewards/detail/">Save</cl-button>
  </div>
</div>
<div class="campaign-detail-content">
  <!--Reward Info-->
  <mat-expansion-panel class="card" expanded>
    <mat-expansion-panel-header class="card-header">
      <p class="card-title">
        Reward Info
      </p>
    </mat-expansion-panel-header>
    <div class="card-content">
      <cl-reward-info-form-group [formGroup]="form.get('rewardInfo')" [config]="config"></cl-reward-info-form-group>
    </div>
  </mat-expansion-panel>

  <!--Merchant Info-->
  <mat-expansion-panel class="card" expanded>
    <mat-expansion-panel-header class="card-header">
      <p class="card-title">
        Merchant Info
      </p>
    </mat-expansion-panel-header>
    <div class="card-content">
      <cl-reward-merchant-card
        (createMerchant)="openDialogCreateMerchant()"
        (selectMerchant)="openDialogSelectMerchant()">
      </cl-reward-merchant-card>
      <cl-reward-merchant-item *ngIf="form.get('merchantInfo').value"
                               [merchant]="form.get('merchantInfo').value"
                               (deleteMerchant)="deleteMerchant()"
                               [enableActions]="true">
      </cl-reward-merchant-item>
    </div>
  </mat-expansion-panel>
  <!--/ Merchant Info-->
  <!--  Vouchers-->
  <mat-expansion-panel class="card" expanded>
    <mat-expansion-panel-header class="card-header">
      <p class="card-title">
        Vouchers
      </p>
    </mat-expansion-panel-header>
    <div class="card-content">
      <cl-reward-voucher-code-form-group [formGroup]="form.get('vouchers.voucherCode')"
                                         [form]="form"
                                         [config]="config"></cl-reward-voucher-code-form-group>
      <div class="card-section">
        <div class="card-header">
          <p class="card-title">
            Voucher Validity
          </p>
        </div>
        <div class="card-content">
          <cl-voucher-validity-form-group [formGroup]="form.get('vouchers.voucherValidity')"
                                          [config]="config"></cl-voucher-validity-form-group>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
  <!--/ Vouchers-->
  <!--Limits-->
  <mat-expansion-panel class="card" expanded>
    <mat-expansion-panel-header class="card-header">
      <p class="card-title">
        Limits
      </p>
    </mat-expansion-panel-header>
    <div class="card-content">
      <cl-limit-form-group [formGroup]="form.get('limits')" [config]="config"></cl-limit-form-group>
    </div>
  </mat-expansion-panel>
</div>
