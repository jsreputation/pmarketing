<div class="dialog">
  <div class="dialog-header-wrap">
    <h3 class="dialog-title">Replenish Voucher Codes</h3>
    <button class="dialog-closed btn-transparent" [mat-dialog-close]="true">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <mat-dialog-content>
    <div class="dialog-content">

      <!--      Single code-->
      <ng-container *ngIf="data?.singleCode">
        <mat-form-field>
          <input type="number" matInput [min]="0" [max]="10000"
                 (change)="setReplenishVoucherCodes(+$event.target.value)"/>
          <mat-hint>Voucher codes available: 10,000</mat-hint>
        </mat-form-field>
        <div class="code-preview">
          <label class="dialog-content-title">Single code</label>
          <div class="code-preview-block">
            {{data?.singleCode?.code}}
          </div>
        </div>
      </ng-container>
      <!--/      Single code-->

      <!-- Unique codes: System generated-->
      <ng-container *ngIf="data?.uniqueGeneratedCode">
        <mat-form-field>
          <input type="number" matInput [min]="0" [max]="10000"
                 (change)="setReplenishVoucherCodes(+$event.target.value)"/>
          <mat-hint>Voucher codes available: 10,000</mat-hint>
        </mat-form-field>
        <div class="code-preview">
          <label class="dialog-content-title">Unique codes: System generated</label>
          <div class="code-preview-block">
            {{data?.uniqueGeneratedCode?.code}} ({{data?.uniqueGeneratedCode?.codeFormat}})
          </div>
        </div>
      </ng-container>
      <!--/ Unique codes: System generated-->

      <!-- Unique codes: User Upload-->
      <ng-container *ngIf="data?.uniqueUserUploadCode">
        <cl-upload-file label="Unique codes: User Upload"
                        (uploadFile)="setReplenishVoucherCodes(20000)"
                        (deleteFile)="setReplenishVoucherCodes($event)">
        </cl-upload-file>
        <div class="code-preview" *ngIf="replenishVoucherCodes">
          <label class="dialog-content-title">Total Number of Voucher</label>
          <p class="code-preview-value">
            {{replenishVoucherCodes | number: '2.'}}
          </p>
        </div>
      </ng-container>
      <!--/ Unique codes: User Upload-->

      <!--Merchant PIN-->
      <ng-container *ngIf="data?.merchantPIN">
        <mat-form-field>
          <input type="number" matInput [min]="0" [max]="10000"
                 (change)="setReplenishVoucherCodes($event.target.value)"/>
          <mat-hint>Voucher codes available: 10,000</mat-hint>
        </mat-form-field>
        <div class="code-preview">
          <label class="dialog-content-title">Merchant PIN</label>
          <div class="code-preview-block">
            {{data?.merchantPIN?.code}}
          </div>
        </div>
      </ng-container>
      <!--/ Merchant PIN-->

    </div>
  </mat-dialog-content>
  <div class="dialog-actions">
    <cl-button classList="invert"
               class="actions-close"
               (click)="close()"
               [disableRipple]="true">
        <span>
          Cancel
        </span>
    </cl-button>

    <cl-button classList="primary"
               (click)="replenish()"
               [disable]="!replenishVoucherCodes"
               [disableRipple]="true">
        <span>
          Replenish
        </span>
    </cl-button>
  </div>
</div>


