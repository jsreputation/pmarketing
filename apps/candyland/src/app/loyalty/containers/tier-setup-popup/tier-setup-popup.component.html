<aside class="dialog tier-setup" role="dialog" aria-labelledby="dialogTitle-tierSetup">
  <header class="dialog-header-wrap">
    <h2 class="dialog-title" id="dialogTitle-tierSetup">Tier Setup</h2>
    <button class="dialog-closed btn-transparent" [mat-dialog-close]="false">
      <mat-icon>close</mat-icon>
    </button>
  </header>
  <div class="dialog-content" [formGroup]="form">
    <div class="tier-setup-row">
      <mat-form-field class="tier-setup-name-input">
        <input type="text" matInput formControlName="name" placeholder="Tier's name">
        <mat-error *ngIf="this.form.get('name').hasError('required') && this.form.get('name').touched">Required field</mat-error>
      </mat-form-field>
    </div>

    <label class="tier-setup-label">Qualification Criteria</label>
    <ng-container formGroupName="qualification">
      <div class="tier-setup-row input-group">
        <mat-checkbox color="primary" formControlName="pointsThreshold">Points Threshold</mat-checkbox>
        <mat-form-field class="tier-setup-points-input">
          <input matInput type="text" formControlName="points">
          <!--          <mat-error *ngIf="this.form.get('firstName').hasError('required')">Required field</mat-error>-->
        </mat-form-field>
        <span>Points</span>
      </div>
      <div class="tier-setup-row">
        <mat-checkbox color="primary" formControlName="inviteOnly">Invite-only</mat-checkbox>
      </div>
    </ng-container>

    <label class="tier-setup-label">Tier Image</label>
    <div class="tier-setup-row tier-setup-row-uploader">
      <cl-upload-graphic formControlName="imageUrl"
                         [btnLabel]="'Upload photo'"
                         [btnStyleClass]="'upload-full-btn'"
      ></cl-upload-graphic>
    </div>

    <label class="tier-setup-label">Accelerated Earn for Tier</label>
    <div class="tier-setup-row input-group">
      <span>Users in this tier will earn</span>
      <mat-form-field floatLabel="never">
        <input type="number" [min]="0" matInput formControlName="earnForTier">
      </mat-form-field>
      <span>times more points.</span>
    </div>

    <label class="tier-setup-label">Accelerated Burn Rule</label>
    <div class="tier-setup-row input-group">
      <span>Users in this tier get a discount of</span>
      <mat-form-field floatLabel="never">
        <input type="number" [min]="0" [max]="100" matInput formControlName="burnRule">
      </mat-form-field>
      <span>% when spending points for rewards. </span>
    </div>

    <label class="tier-setup-label">Points Expiry</label>
    <ng-container formGroupName="pointsExpiry">
      <div>
        <div class="tier-setup-row input-group">
          <span>Points expire</span>
          <mat-form-field floatLabel="never">
            <input type="number" [min]="0" matInput formControlName="pointWasEarnedAmount">
          </mat-form-field>
          <mat-form-field>
            <mat-select formControlName="pointWasEarnedPeriod">
              <mat-option value="day">Day</mat-option>
              <mat-option value="week">Week</mat-option>
              <mat-option value="month">Month</mat-option>
            </mat-select>
          </mat-form-field>
          <span>from when the point was earned.</span>
        </div>
        <div class="tier-setup-row input-group">
          <span>Points expire</span>
          <mat-form-field floatLabel="never">
            <input type="number" [min]="0" matInput formControlName="userInactivityAmount">
          </mat-form-field>
          <mat-form-field>
            <mat-select formControlName="userInactivityPeriod">
              <mat-option value="day">Day</mat-option>
              <mat-option value="week">Week</mat-option>
              <mat-option value="month">Month</mat-option>
            </mat-select>
          </mat-form-field>
          <span>from user inactivity.</span>
        </div>
      </div>
    </ng-container>
  </div>

  <footer class="dialog-actions">
    <cl-button classList="tertiary"
               class="actions-close"
               (click)="close()"
               [disableRipple]="true">
        <span>
          Cancel
        </span>
    </cl-button>

    <cl-button classList="primary"
               (click)="add()">
        <span>
          Add
        </span>
    </cl-button>
  </footer>
</aside>


