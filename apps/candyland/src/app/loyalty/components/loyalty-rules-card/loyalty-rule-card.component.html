<mat-expansion-panel class="card" expanded>
  <mat-expansion-panel-header class="card-header">
    <h2 class="card-title">
      {{tierName || 'General Rules'}}
    </h2>
  </mat-expansion-panel-header>

  <div class="card-content" *ngIf="ruleSet">
    <label class="card-label">Rules Application</label>
    <div class="card-row" [class.match-type-field-only-view]="!editable">
      <mat-form-field>
        <mat-select [value]="ruleSet?.matchType">
          <mat-option value="match_first">Apply First Matching Rule</mat-option>
          <mat-option value="match_all">Apply All Matching Rule</mat-option>
        </mat-select>
        <mat-hint>Perx will apply only the topmost rule in the list that matches the conditions.</mat-hint>
      </mat-form-field>
    </div>
    <br>
    <br>
    <br>
    <label class="card-label">
      {{tierType === 'basicTier' ? 'Points Earn Rules' : ''}}
      {{tierType === 'customTier' ? 'Special Rules' : ''}}
    </label>
    <cl-point-earn-rules-list *ngIf="ruleSet?.rules"
                              [editable]="editable"
                              [ruleSet]="ruleSet"
                              (rulesAction)="handleTiersAction($event)">
      <div class="rule-list-no-data">
        There are currently no
        {{tierType === 'basicTier' ? 'points Earn Rules' : ''}}
        {{tierType === 'customTier' ? 'special rules' : ''}}
        for the
        {{tierName || 'General Rules'}}.
      </div>
    </cl-point-earn-rules-list>
    <cl-button *ngIf="editable"
                [classList]="'tertiary'"
               (click)="createRule(ruleSet)">
        <span>
         + Create new rule
        </span>
    </cl-button>
  </div>
</mat-expansion-panel>
